<?xml version="1.0" encoding="UTF-8"?>
<processing>
	<!--+
	    | The processing configuration  
	    +-->
	<configuration>
	
		<postprocessors>
			<postprocessor class="org.kabeja.processing.BoundsDebugger" name="bounds.debugger"/>
			<postprocessor class="org.kabeja.processing.ImageFilter" name="image.filter"/>
		</postprocessors>
		
		<filters>
			<filter class="org.kabeja.batik.tools.ImageBase64Encoder" name="image"/>
			<filter class="org.kabeja.xslt.SAXXSLTFilter" name="xslt">
				<property name="http://xml.org/sax/features/is-standalone/" value="true"/>
			</filter>
		</filters>
		
		<serializers>
			<serializer class="org.kabeja.xml.SAXPrettyOutputter" name="svg"/>
			<serializer class="org.kabeja.batik.tools.SAXJPEGSerializer" name="jpeg"/>
			<serializer class="org.kabeja.batik.tools.SAXPNGSerializer" name="png"/>
			<serializer class="org.kabeja.batik.tools.SAXTIFFSerializer" name="tiff"/>
			<serializer class="org.kabeja.batik.tools.SAXPDFSerializer" name="pdf"/>
			<serializer class="org.kabeja.xslt.SAXXMLSerializer" name="xml"/>
		</serializers>
		
		<generators>
			<generator class="org.kabeja.svg.DXF2SVGGenerator" name="svg"/>
		</generators>
		
	</configuration>
	
	<!--+
	    | The processing pipelines 
	    +-->
	
	<pipelines>
	
		<pipeline name="svg">
		    <generate name="svg"/>
			<serialize name="svg"/>
		</pipeline>
		
		
		<pipeline name="debug">
			<postprocess name="bounds.debugger"/>
			<generate name="svg"/>
			<filter name="image"/>
			<serialize name="svg"/>
		</pipeline>
		
		
		<pipeline name="jpeg">
			<postprocess name="bounds.debugger"/>
			<generate name="svg"/>
			<serialize name="jpeg">
				<property name="width" value="1024"/>
				<property name="height" value="768"/>
			</serialize>
		</pipeline>
		
		
		<pipeline name="pdf">
		  	<generate name="svg"/>
			<serialize name="pdf"/>
		</pipeline>
		
		
		<pipeline name="font">
		  	<generate name="svg"/>
			<filter name="xslt">
				<property name="stylesheet" value="../tools/xsl/embedfont.xsl"/>
			</filter>
			<serialize name="svg"/>
		</pipeline>
		
		
		<pipeline name="xml">
		    <generate name="svg"/>
			<serialize name="xml"/>
		</pipeline>
		
		
		<pipeline name="embed">
			<postprocess name="image.filter"/>
			<generate name="svg"/>
			<filter name="image"/>
			<filter name="xslt">
				<property name="stylesheet" value="../tools/xsl/embedfont.xsl"/>
				<property name="http://xml.org/sax/features/is-standalone/" value="true"/>
				<property name="http://xml.org/sax/features/external-general-entities" value="false"/>
			</filter>
			<serialize name="svg"/>
		</pipeline>
			
	</pipelines>
	
	
</processing>
